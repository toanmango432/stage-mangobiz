# =============================================================================
# Mango POS Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the required values.
# The app will NOT start without the required Supabase credentials.
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED - Supabase Configuration
# -----------------------------------------------------------------------------
# Get these from your Supabase project dashboard: Settings > API
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# -----------------------------------------------------------------------------
# OPTIONAL - API Configuration
# -----------------------------------------------------------------------------
# Override the API base URL. If not set, defaults to:
#   ${VITE_SUPABASE_URL}/functions/v1
# Only set this if you're using a custom API gateway or proxy.
# VITE_API_BASE_URL=http://localhost:3000/api

# Legacy socket configuration (being replaced by MQTT)
VITE_SOCKET_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# OPTIONAL - Control Center (License Validation)
# -----------------------------------------------------------------------------
VITE_CONTROL_CENTER_URL=http://localhost:4000

# -----------------------------------------------------------------------------
# OPTIONAL - Development Settings
# -----------------------------------------------------------------------------
VITE_DEV_MODE=true

# -----------------------------------------------------------------------------
# OPTIONAL - Feature Flags
# -----------------------------------------------------------------------------
VITE_ENABLE_SOCKET=true
VITE_ENABLE_OFFLINE_MODE=true

# API-First Mode (Backend Abstraction Layer)
# When true, data operations go through REST API (Supabase Edge Functions)
# instead of direct Supabase SDK. This enables easy backend migration.
#
# URL Pattern: ${VITE_SUPABASE_URL}/functions/v1/{entity}
# Example:     https://xxx.supabase.co/functions/v1/clients?store_id=yyy
#
# Default: false (uses local-first IndexedDB + background sync)
VITE_USE_API_LAYER=false

# MQTT Real-time Communication (Phase 0)
# Set to true to enable MQTT alongside Supabase Realtime
VITE_USE_MQTT=false
VITE_MQTT_CLOUD_URL=mqtts://mqtt.mango.cloud:8883

# SQLite Backend (Electron only)
# SQLite is ENABLED BY DEFAULT on Electron for better performance.
# Set VITE_DISABLE_SQLITE=true to fall back to Dexie/IndexedDB.
# Web and Capacitor always use Dexie regardless of this setting.
VITE_DISABLE_SQLITE=false
# Legacy: VITE_USE_SQLITE is deprecated but still works for backwards compatibility
# VITE_USE_SQLITE=true

# Dual-Write Safety Feature
# When SQLite is enabled, also write to Dexie in background for rollback safety.
# After VITE_DUAL_WRITE_DAYS (default 30), you can disable dual-write once SQLite is stable.
# Set to 'false' to completely disable dual-write backup.
VITE_DUAL_WRITE_ENABLED=true
VITE_DUAL_WRITE_DAYS=30

# -----------------------------------------------------------------------------
# OPTIONAL - Error Tracking (Sentry)
# -----------------------------------------------------------------------------
# Get your DSN from: https://sentry.io > Project Settings > Client Keys (DSN)
# Leave empty to disable error tracking
VITE_SENTRY_DSN=
VITE_ENV=development
VITE_APP_VERSION=0.1.0
